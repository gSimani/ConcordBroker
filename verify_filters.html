<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verify Filters Are Working</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background: #d4edda; border-color: #c3e6cb; }
        .info { background: #d1ecf1; border-color: #bee5eb; }
        .warning { background: #fff3cd; border-color: #ffeaa7; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #0056b3; }
        .screenshot {
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
        }
        img { max-width: 100%; height: auto; }
        pre {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç Verify Property Search Filters</h1>
        
        <div class="section info">
            <h2>What You Should See on the Properties Page:</h2>
            <ol>
                <li><strong>Header:</strong> "Property Search" with description</li>
                <li><strong>Property Type Tabs:</strong>
                    <ul>
                        <li>üè† Residential</li>
                        <li>üè¢ Commercial</li>
                        <li>üè≠ Industrial</li>
                        <li>üå≤ Agricultural</li>
                        <li>üîß <strong>Advanced Search</strong> (with sliders icon)</li>
                    </ul>
                </li>
                <li><strong>Search Bar:</strong> Address search with dropdown suggestions</li>
                <li><strong>Quick Filters</strong> (when not in Advanced mode):
                    <ul>
                        <li>City dropdown</li>
                        <li>Property Type dropdown</li>
                    </ul>
                </li>
                <li><strong>Advanced Filters</strong> (when Advanced is clicked):
                    <ul>
                        <li>ZIP Code</li>
                        <li>Owner Name</li>
                        <li>Min/Max Value</li>
                        <li>Min/Max Year Built</li>
                        <li>Min/Max Building Sq Ft</li>
                        <li>Min/Max Land Sq Ft</li>
                        <li>Min/Max Sale Price</li>
                        <li>Min/Max Appraised Value</li>
                        <li>Usage Code & Sub-Usage Code</li>
                        <li>Tax Delinquent checkbox</li>
                    </ul>
                </li>
            </ol>
        </div>

        <div class="section">
            <h2>Quick Actions:</h2>
            <button onclick="openProperties()">1. Open Properties Page</button>
            <button onclick="testAdvancedButton()">2. Test If Advanced Button Works</button>
            <button onclick="checkConsole()">3. Check for JavaScript Errors</button>
        </div>

        <div class="section warning">
            <h2>If You Don't See the Filters:</h2>
            <p><strong>Possible Issues:</strong></p>
            <ul>
                <li>‚ùå <strong>CSS not loading:</strong> The styles might not be applied</li>
                <li>‚ùå <strong>Component state issue:</strong> The showAdvancedFilters state might be stuck</li>
                <li>‚ùå <strong>JavaScript error:</strong> Check browser console for errors</li>
            </ul>
        </div>

        <div class="section">
            <h2>Test Advanced Filters Visibility:</h2>
            <button onclick="testFiltersAPI()">Test if API Accepts Filter Parameters</button>
            <div id="api-test-results"></div>
        </div>

        <div class="section info">
            <h2>How to Use Advanced Filters:</h2>
            <ol>
                <li>Go to <a href="http://localhost:5173/properties" target="_blank">http://localhost:5173/properties</a></li>
                <li>Look for the tabs at the top (Residential, Commercial, etc.)</li>
                <li>Click on <strong>"Advanced Search"</strong> (last tab with sliders icon)</li>
                <li>The advanced filter fields should appear below the search bar</li>
                <li>Fill in any filters you want</li>
                <li>Click the "Search" button</li>
            </ol>
        </div>
    </div>

    <script>
        function openProperties() {
            window.open('http://localhost:5173/properties', '_blank');
        }

        function testAdvancedButton() {
            alert(`
To test the Advanced button:
1. Open the properties page
2. Press F12 to open console
3. Run this command:

document.querySelectorAll('button').forEach(b => {
    if(b.textContent.includes('Advanced')) {
        console.log('Found Advanced button:', b);
        b.style.border = '3px solid red';
    }
});

This will highlight the Advanced button in red if it exists.
            `);
        }

        function checkConsole() {
            alert(`
To check for errors:
1. Open the properties page
2. Press F12 to open Developer Tools
3. Go to the Console tab
4. Look for any red error messages
5. Try clicking the Advanced button and watch for errors
            `);
        }

        async function testFiltersAPI() {
            const resultsDiv = document.getElementById('api-test-results');
            resultsDiv.innerHTML = '<p>Testing API with filters...</p>';
            
            try {
                // Test with various filters
                const params = new URLSearchParams({
                    city: 'HOLLYWOOD',
                    min_value: '100000',
                    max_value: '500000',
                    limit: '5'
                });
                
                const response = await fetch(`http://localhost:8000/api/properties/search?${params}`);
                const data = await response.json();
                
                resultsDiv.innerHTML = `
                    <div class="success" style="padding: 10px; margin-top: 10px;">
                        <h4>‚úÖ API Accepts Filters!</h4>
                        <p>Request: city=HOLLYWOOD, min_value=100000, max_value=500000</p>
                        <p>Response: ${data.properties?.length || 0} properties found</p>
                        <p>This means the backend is ready for advanced filters.</p>
                    </div>
                `;
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div style="background: #f8d7da; padding: 10px; margin-top: 10px;">
                        <h4>‚ùå API Error</h4>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }

        // Auto-test on load
        window.addEventListener('load', () => {
            setTimeout(testFiltersAPI, 500);
        });
    </script>
</body>
</html>